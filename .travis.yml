language: rust
sudo: false
git:
  quiet: true

rust:
  - 1.36.0
  - beta
  - nightly

os:
  - osx
  - linux

branches:
  only:
    - staging
    - trying
    - master
    - dev

matrix:
  fast_finish: true
  allow_failures:
  - rust: nightly

script:
  - rustup component add clippy
  - cargo clippy
  - cargo build
  - cargo test
